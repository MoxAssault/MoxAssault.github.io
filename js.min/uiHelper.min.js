function humanize(key){return key.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^./,(s=>s.toUpperCase())).trim()}function renderGameCard(record,rawID){const groupKeys=["tableFiles","b2sFiles","romFiles","altColorFiles","pupPackFiles","mediaPackFiles"];const card=document.createElement("div");card.className="game-card";const leftCol=document.createElement("div");leftCol.className="card-left";let coverUrl=record.imgUrl||groupKeys.map((g=>record[g]?.[0]?.imgUrl)).find((u=>u));if(coverUrl){const thumb=document.createElement("img");thumb.className="game-thumb";thumb.src=coverUrl;thumb.alt=record.name||rawID;leftCol.appendChild(thumb);const preview=document.createElement("img");preview.className="main-thumb-preview";preview.src=coverUrl;preview.alt=record.name||rawID;leftCol.appendChild(preview)}card.appendChild(leftCol);const info=document.createElement("div");info.className="game-info";const title=document.createElement("h2");title.textContent=record.name||rawID;info.appendChild(title);const metaBoxes=document.createElement("div");metaBoxes.className="meta-boxes";const manufBox=document.createElement("div");manufBox.classList.add("meta-box","meta-left");let manufacturer=record.manufacturer||"";let year=record.year?` (${record.year})`:"";manufBox.textContent=`${manufacturer}${year}`;const updatedBox=document.createElement("div");updatedBox.classList.add("meta-box","meta-middle");const updatedAt=record.updatedAt?new Date(record.updatedAt).toLocaleDateString(undefined,{year:"numeric",month:"short",day:"numeric"}):"";updatedBox.textContent=updatedAt?`Updated: ${updatedAt}`:"";const idBox=document.createElement("div");idBox.classList.add("meta-box","meta-right");idBox.textContent=record.id||"";metaBoxes.appendChild(manufBox);metaBoxes.appendChild(updatedBox);metaBoxes.appendChild(idBox);info.appendChild(metaBoxes);if(Array.isArray(record.theme)){const tagsDiv=document.createElement("div");tagsDiv.className="tags";record.theme.forEach((tag=>{const span=document.createElement("span");span.className="tag";span.textContent=tag;tagsDiv.appendChild(span)}));info.appendChild(tagsDiv)}card.appendChild(info);const btnCol=document.createElement("div");btnCol.className="card-btncol";const compileBtn=document.createElement("button");compileBtn.id="compileBtn";compileBtn.className="compile-btn";compileBtn.textContent="LFG!!";compileBtn.disabled=true;btnCol.appendChild(compileBtn);card.appendChild(btnCol);return card}window.humanize=humanize;window.renderGameCard=renderGameCard;